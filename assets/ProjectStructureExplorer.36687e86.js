var yn=Object.defineProperty,pn=Object.defineProperties;var xn=Object.getOwnPropertyDescriptors;var pt=Object.getOwnPropertySymbols;var kn=Object.prototype.hasOwnProperty,wn=Object.prototype.propertyIsEnumerable;var xt=(e,t,o)=>t in e?yn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,kt=(e,t)=>{for(var o in t||(t={}))kn.call(t,o)&&xt(e,o,t[o]);if(pt)for(var o of pt(t))wn.call(t,o)&&xt(e,o,t[o]);return e},wt=(e,t)=>pn(e,xn(t));import{v as ze,q as _n,b as Ie,w as Dt,N as Lt,r as lt,l as ce,x as Sn,h as Rn,i as Cn,j as it,e as Pt}from"./BreadcrumbItem.c157cb94.js";import{f as Kn,i as Nn,g as $n,a as Ve,b as dt,m as Dn,c as Ln,d as Pn,F as Xe,u as Tn,N as Bn,e as En,h as Fn}from"./index.e6864f41.js";import{d as le,h as p,s as Z,ae as An,c as Tt,aj as Bt,aO as In,e as A,v as N,q as P,w as Ne,g as Et,f as Ye,r as K,z as I,j as R,B as pe,al as qe,aP as he,k as Ft,ak as ot,C as xe,D as q,m as At,n as $e,N as Vn,aa as zn,A as Ae,x as ie,E as _t,y as On,aQ as jn,aR as Un,K as j,L as te,M as Q,P as Ze,a8 as Mn,_ as Hn,b2 as It,bi as Vt,S as ve,R as M,Q as O,a3 as H,F as Wn,b4 as qn,U as Xn,a0 as De,b3 as St,V as Yn,a7 as Oe,G as Zn,I as Qn,bj as Gn,a6 as Jn,a4 as rt,W as zt,a2 as el,o as tl,bk as nl,ab as ll}from"./index.58ea9873.js";import{y as ol,s as al,e as rl,x as il,A as dl,h as Rt,v as sl,B as Ct,b as cl,V as ul,X as Kt,g as fl,w as hl,_ as vl}from"./Slider.06ff8bbb.js";function Ot(e){return typeof e=="string"?`s-${e}`:`n-${e}`}var gl=le({name:"Switcher",render(){return p("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},p("path",{d:"M12 8l10 8l-10 8z"}))}});const{cubicBezierEaseInOut:ue,cubicBezierEaseOut:bl,cubicBezierEaseIn:ml}=An;function Nt({overflow:e="hidden",duration:t=".3s",originalTransition:o="",leavingDelay:i="0s",foldPadding:a=!1,enterToProps:d=void 0,leaveToProps:h=void 0,reverse:v=!1}={}){const m=v?"leave":"enter",b=v?"enter":"leave";return[Z(`&.fade-in-height-expand-transition-${b}-from,
 &.fade-in-height-expand-transition-${m}-to`,Object.assign(Object.assign({},d),{opacity:1})),Z(`&.fade-in-height-expand-transition-${b}-to,
 &.fade-in-height-expand-transition-${m}-from`,Object.assign(Object.assign({},h),{opacity:0,marginTop:"0 !important",marginBottom:"0 !important",paddingTop:a?"0 !important":void 0,paddingBottom:a?"0 !important":void 0})),Z(`&.fade-in-height-expand-transition-${b}-active`,`
 overflow: ${e};
 transition:
 max-height ${t} ${ue} ${i},
 opacity ${t} ${bl} ${i},
 margin-top ${t} ${ue} ${i},
 margin-bottom ${t} ${ue} ${i},
 padding-top ${t} ${ue} ${i},
 padding-bottom ${t} ${ue} ${i}
 ${o?","+o:""}
 `),Z(`&.fade-in-height-expand-transition-${m}-active`,`
 overflow: ${e};
 transition:
 max-height ${t} ${ue},
 opacity ${t} ${ml},
 margin-top ${t} ${ue},
 margin-bottom ${t} ${ue},
 padding-top ${t} ${ue},
 padding-bottom ${t} ${ue}
 ${o?","+o:""}
 `)]}var yl={buttonHeightSmall:"14px",buttonHeightMedium:"18px",buttonHeightLarge:"22px",buttonWidthSmall:"14px",buttonWidthMedium:"18px",buttonWidthLarge:"22px",buttonWidthPressedSmall:"20px",buttonWidthPressedMedium:"24px",buttonWidthPressedLarge:"28px",railHeightSmall:"18px",railHeightMedium:"22px",railHeightLarge:"26px",railWidthSmall:"32px",railWidthMedium:"40px",railWidthLarge:"48px"};const pl=e=>{const{primaryColor:t,opacityDisabled:o,borderRadius:i,textColor3:a}=e,d="rgba(0, 0, 0, .14)";return Object.assign(Object.assign({},yl),{iconColor:a,textColor:"white",loadingColor:t,opacityDisabled:o,railColor:d,railColorActive:t,buttonBoxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",buttonColor:"#FFF",railBorderRadiusSmall:i,railBorderRadiusMedium:i,railBorderRadiusLarge:i,buttonBorderRadiusSmall:i,buttonBorderRadiusMedium:i,buttonBorderRadiusLarge:i,boxShadowFocus:`0 0 0 2px ${Bt(t,{alpha:.2})}`})},xl={name:"Switch",common:Tt,self:pl};var kl=xl;const wl=e=>{const{borderRadiusSmall:t,hoverColor:o,pressedColor:i,primaryColor:a,textColor3:d,textColor2:h,textColorDisabled:v,fontSize:m}=e;return{fontSize:m,nodeBorderRadius:t,nodeColorHover:o,nodeColorPressed:i,nodeColorActive:Bt(a,{alpha:.1}),arrowColor:d,nodeTextColor:h,nodeTextColorDisabled:v,loadingColor:a,dropMarkColor:a}},_l=In({name:"Tree",common:Tt,peers:{Checkbox:ol,Scrollbar:al,Empty:rl},self:wl});var Sl=_l,Rl=A("switch",`
 height: var(--n-height);
 min-width: var(--n-width);
 vertical-align: middle;
 user-select: none;
 display: inline-flex;
 outline: none;
 justify-content: center;
 align-items: center;
`,[N("children-placeholder",`
 height: var(--n-rail-height);
 display: flex;
 flex-direction: column;
 overflow: hidden;
 pointer-events: none;
 visibility: hidden;
 `),N("rail-placeholder",`
 display: flex;
 flex-wrap: none;
 `),N("button-placeholder",`
 width: calc(1.75 * var(--n-rail-height));
 height: var(--n-rail-height);
 `),A("base-loading",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 font-size: calc(var(--n-button-width) - 4px);
 color: var(--n-loading-color);
 transition: color .3s var(--n-bezier);
 `,[ze({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})]),N("checked, unchecked",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 box-sizing: border-box;
 position: absolute;
 white-space: nowrap;
 top: 0;
 bottom: 0;
 display: flex;
 align-items: center;
 line-height: 1;
 `),N("checked",`
 right: 0;
 padding-right: calc(1.25 * var(--n-rail-height) - var(--n-offset));
 `),N("unchecked",`
 left: 0;
 justify-content: flex-end;
 padding-left: calc(1.25 * var(--n-rail-height) - var(--n-offset));
 `),Z("&:focus",[N("rail",`
 box-shadow: var(--n-box-shadow-focus);
 `)]),P("round",[N("rail","border-radius: calc(var(--n-rail-height) / 2);",[N("button","border-radius: calc(var(--n-button-height) / 2);")])]),Ne("disabled",[Ne("icon",[P("rubber-band",[P("pressed",[N("rail",[N("button","max-width: var(--n-button-width-pressed);")])]),N("rail",[Z("&:active",[N("button","max-width: var(--n-button-width-pressed);")])]),P("active",[P("pressed",[N("rail",[N("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])]),N("rail",[Z("&:active",[N("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])])])])])]),P("active",[N("rail",[N("button","left: calc(100% - (var(--n-rail-height) + var(--n-button-width)) / 2)")])]),N("rail",`
 overflow: hidden;
 height: var(--n-rail-height);
 min-width: var(--n-rail-width);
 border-radius: var(--n-rail-border-radius);
 cursor: pointer;
 position: relative;
 transition:
 background .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-rail-color);
 `,[N("button-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 font-size: calc(var(--n-button-height) - 4px);
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 line-height: 1;
 `,[ze()]),N("button",`
 align-items: center; 
 top: var(--n-offset);
 left: var(--n-offset);
 height: var(--n-button-width);
 width: var(--n-button-width-pressed);
 max-width: var(--n-button-width);
 border-radius: var(--n-button-border-radius);
 background-color: var(--n-button-color);
 box-shadow: var(--n-button-box-shadow);
 box-sizing: border-box;
 cursor: inherit;
 content: "";
 position: absolute;
 transition:
 background-color .3s var(--n-bezier),
 left .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 max-width .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 `)]),P("active",[N("rail","background-color: var(--n-rail-color-active);")]),P("loading",[N("rail",`
 cursor: wait;
 `)]),P("disabled",[N("rail",`
 cursor: not-allowed;
 opacity: .5;
 `)])]);const Cl=Object.assign(Object.assign({},Ye.props),{size:{type:String,default:"medium"},value:{type:[String,Number,Boolean],default:void 0},loading:Boolean,defaultValue:{type:[String,Number,Boolean],default:!1},disabled:{type:Boolean,default:void 0},round:{type:Boolean,default:!0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},railStyle:Function,rubberBand:{type:Boolean,default:!0},onChange:[Function,Array]});var jt=le({name:"Switch",props:Cl,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:o}=Et(e),i=Ye("Switch","-switch",Rl,kl,e,t),a=_n(e),{mergedSizeRef:d,mergedDisabledRef:h}=a,v=K(e.defaultValue),m=I(e,"value"),b=Ie(m,v),g=R(()=>b.value===e.checkedValue),k=K(!1),c=K(!1),r=R(()=>{const{railStyle:S}=e;if(!!S)return S({focused:c.value,checked:g.value})});function x(S){const{"onUpdate:value":J,onChange:de,onUpdateValue:s}=e,{nTriggerFormInput:D,nTriggerFormChange:B}=a;J&&q(J,S),s&&q(s,S),de&&q(de,S),v.value=S,D(),B()}function C(){const{nTriggerFormFocus:S}=a;S()}function $(){const{nTriggerFormBlur:S}=a;S()}function w(){e.loading||h.value||(b.value!==e.checkedValue?x(e.checkedValue):x(e.uncheckedValue))}function y(){c.value=!0,C()}function V(){c.value=!1,$(),k.value=!1}function F(S){e.loading||h.value||S.code==="Space"&&(b.value!==e.checkedValue?x(e.checkedValue):x(e.uncheckedValue),k.value=!1)}function z(S){e.loading||h.value||S.code==="Space"&&(S.preventDefault(),k.value=!0)}const T=R(()=>{const{value:S}=d,{self:{opacityDisabled:J,railColor:de,railColorActive:s,buttonBoxShadow:D,buttonColor:B,boxShadowFocus:ge,loadingColor:Le,textColor:ee,iconColor:U,[pe("buttonHeight",S)]:ne,[pe("buttonWidth",S)]:Ue,[pe("buttonWidthPressed",S)]:Qe,[pe("railHeight",S)]:se,[pe("railWidth",S)]:Pe,[pe("railBorderRadius",S)]:Me,[pe("buttonBorderRadius",S)]:be},common:{cubicBezierEaseInOut:ke}}=i.value,we=qe((he(se)-he(ne))/2),_e=qe(Math.max(he(se),he(ne))),Se=he(se)>he(ne)?Pe:qe(he(Pe)+he(ne)-he(se));return{"--n-bezier":ke,"--n-button-border-radius":be,"--n-button-box-shadow":D,"--n-button-color":B,"--n-button-width":Ue,"--n-button-width-pressed":Qe,"--n-button-height":ne,"--n-height":_e,"--n-offset":we,"--n-opacity-disabled":J,"--n-rail-border-radius":Me,"--n-rail-color":de,"--n-rail-color-active":s,"--n-rail-height":se,"--n-rail-width":Pe,"--n-width":Se,"--n-box-shadow-focus":ge,"--n-loading-color":Le,"--n-text-color":ee,"--n-icon-color":U}}),L=o?Ft("switch",R(()=>d.value[0]),T,e):void 0;return{handleClick:w,handleBlur:V,handleFocus:y,handleKeyup:F,handleKeydown:z,mergedRailStyle:r,pressed:k,mergedClsPrefix:t,mergedValue:b,checked:g,mergedDisabled:h,cssVars:o?void 0:T,themeClass:L==null?void 0:L.themeClass,onRender:L==null?void 0:L.onRender}},render(){const{mergedClsPrefix:e,mergedDisabled:t,checked:o,mergedRailStyle:i,onRender:a,$slots:d}=this;a==null||a();const{checked:h,unchecked:v,icon:m,"checked-icon":b,"unchecked-icon":g}=d,k=!(ot(m)&&ot(b)&&ot(g));return p("div",{role:"switch","aria-checked":o,class:[`${e}-switch`,this.themeClass,k&&`${e}-switch--icon`,o&&`${e}-switch--active`,t&&`${e}-switch--disabled`,this.round&&`${e}-switch--round`,this.loading&&`${e}-switch--loading`,this.pressed&&`${e}-switch--pressed`,this.rubberBand&&`${e}-switch--rubber-band`],tabindex:this.mergedDisabled?void 0:0,style:this.cssVars,onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},p("div",{class:`${e}-switch__rail`,"aria-hidden":"true",style:i},xe(h,c=>xe(v,r=>c||r?p("div",{"aria-hidden":!0,class:`${e}-switch__children-placeholder`},p("div",{class:`${e}-switch__rail-placeholder`},p("div",{class:`${e}-switch__button-placeholder`}),c),p("div",{class:`${e}-switch__rail-placeholder`},p("div",{class:`${e}-switch__button-placeholder`}),r)):null)),p("div",{class:`${e}-switch__button`},xe(m,c=>xe(b,r=>xe(g,x=>p(Dt,null,{default:()=>this.loading?p(Lt,{key:"loading",clsPrefix:e,strokeWidth:20}):this.checked&&(r||c)?p("div",{class:`${e}-switch__button-icon`,key:r?"checked-icon":"icon"},r||c):!this.checked&&(x||c)?p("div",{class:`${e}-switch__button-icon`,key:x?"unchecked-icon":"icon"},x||c):null})))),xe(h,c=>c&&p("div",{key:"checked",class:`${e}-switch__checked`},c)),xe(v,c=>c&&p("div",{key:"unchecked",class:`${e}-switch__unchecked`},c)))))}});const Ut=At("n-tree-select"),je=At("n-tree");var Kl=le({name:"NTreeSwitcher",props:{clsPrefix:{type:String,required:!0},expanded:Boolean,hide:Boolean,loading:Boolean,onClick:Function},setup(e){const{renderSwitcherIconRef:t}=$e(je,null);return()=>{const{clsPrefix:o}=e;return p("span",{"data-switcher":!0,class:[`${o}-tree-node-switcher`,{[`${o}-tree-node-switcher--expanded`]:e.expanded,[`${o}-tree-node-switcher--hide`]:e.hide}],onClick:e.onClick},p("div",{class:`${o}-tree-node-switcher__icon`},p(Dt,null,{default:()=>{if(e.loading)return p(Lt,{clsPrefix:o,key:"loading",radius:85,strokeWidth:20});const{value:i}=t;return i?i():p(Vn,{clsPrefix:o,key:"switcher"},{default:()=>p(gl,null)})}})))}}}),Nl=le({name:"NTreeNodeCheckbox",props:{clsPrefix:{type:String,required:!0},right:Boolean,focusable:Boolean,disabled:Boolean,checked:Boolean,indeterminate:Boolean,onCheck:Function},setup(e){const t=$e(je);function o(a){const{onCheck:d}=e;if(d)return d(a)}function i(a){e.indeterminate?o(!1):o(a)}return{handleUpdateValue:i,mergedTheme:t.mergedThemeRef}},render(){const{clsPrefix:e,mergedTheme:t,checked:o,indeterminate:i,disabled:a,focusable:d,handleUpdateValue:h}=this;return p("span",{class:[`${e}-tree-node-checkbox`,this.right&&`${e}-tree-node-checkbox--right`],"data-checkbox":!0},p(il,{focusable:d,disabled:a,theme:t.peers.Checkbox,themeOverrides:t.peerOverrides.Checkbox,checked:o,indeterminate:i,onUpdateChecked:h}))}}),$l=le({name:"TreeNodeContent",props:{clsPrefix:{type:String,required:!0},disabled:Boolean,checked:Boolean,selected:Boolean,onClick:Function,onDragstart:Function,tmNode:{type:Object,required:!0},nodeProps:Object},setup(e){const{renderLabelRef:t,renderPrefixRef:o,renderSuffixRef:i,labelFieldRef:a}=$e(je),d=K(null);function h(m){const{onClick:b}=e;b&&b(m)}function v(m){h(m)}return{selfRef:d,renderLabel:t,renderPrefix:o,renderSuffix:i,labelField:a,handleClick:v}},render(){const{clsPrefix:e,labelField:t,nodeProps:o,checked:i=!1,selected:a=!1,renderLabel:d,renderPrefix:h,renderSuffix:v,handleClick:m,onDragstart:b,tmNode:{rawNode:g,rawNode:{prefix:k,suffix:c,[t]:r}}}=this;return p("span",Object.assign({},o,{ref:"selfRef",class:[`${e}-tree-node-content`,o==null?void 0:o.class],onClick:m,draggable:b===void 0?void 0:!0,onDragstart:b}),h||k?p("div",{class:`${e}-tree-node-content__prefix`},h?h({option:g,selected:a,checked:i}):lt(k)):null,p("div",{class:`${e}-tree-node-content__text`},d?d({option:g,selected:a,checked:i}):lt(r)),v||c?p("div",{class:`${e}-tree-node-content__suffix`},v?v({option:g,selected:a,checked:i}):lt(c)):null)}});function $t({position:e,offsetLevel:t,indent:o,el:i}){const a={position:"absolute",boxSizing:"border-box",right:0};if(e==="inside")a.left=0,a.top=0,a.bottom=0,a.borderRadius="inherit",a.boxShadow="inset 0 0 0 2px var(--n-drop-mark-color)";else{const d=e==="before"?"top":"bottom";a[d]=0,a.left=`${i.offsetLeft+6-t*o}px`,a.height="2px",a.backgroundColor="var(--n-drop-mark-color)",a.transformOrigin=d,a.borderRadius="1px",a.transform=e==="before"?"translateY(-4px)":"translateY(4px)"}return p("div",{style:a})}function Dl({dropPosition:e,node:t}){return t.isLeaf===!1||t.children?!0:e!=="inside"}const Ll=le({name:"TreeNode",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(e){const t=$e(je),{droppingNodeParentRef:o,droppingMouseNodeRef:i,draggingNodeRef:a,droppingPositionRef:d,droppingOffsetLevelRef:h,nodePropsRef:v,indentRef:m,blockLineRef:b,checkboxPlacementRef:g}=t,k=R(()=>t.disabledRef.value||e.tmNode.disabled),c=R(()=>{const{value:s}=v;if(!!s)return s({option:e.tmNode.rawNode})}),r=K(null),x={value:null};zn(()=>{x.value=r.value.$el});function C(){const{tmNode:s}=e;if(!s.isLeaf&&!s.shallowLoaded){t.loadingKeysRef.value.has(s.key)||t.loadingKeysRef.value.add(s.key);const{onLoadRef:{value:D}}=t;D&&D(s.rawNode).then(()=>{t.handleSwitcherClick(s)}).finally(()=>{t.loadingKeysRef.value.delete(s.key)})}else t.handleSwitcherClick(s)}const $=ce(()=>!e.tmNode.disabled&&t.selectableRef.value&&(t.internalTreeSelect?t.mergedCheckStrategyRef.value!=="child"||t.multipleRef.value&&t.cascadeRef.value||e.tmNode.isLeaf:!0));function w(s){!$.value||Rt(s,"checkbox")||Rt(s,"switcher")||t.handleSelect(e.tmNode)}function y(s){var D,B;b.value||(k.value||w(s),(B=(D=c.value)===null||D===void 0?void 0:D.onClick)===null||B===void 0||B.call(D,s))}function V(s){var D,B;!b.value||(k.value||w(s),(B=(D=c.value)===null||D===void 0?void 0:D.onClick)===null||B===void 0||B.call(D,s))}function F(s){t.handleCheck(e.tmNode,s)}function z(s){t.handleDragStart({event:s,node:e.tmNode})}function T(s){s.currentTarget===s.target&&t.handleDragEnter({event:s,node:e.tmNode})}function L(s){s.preventDefault(),t.handleDragOver({event:s,node:e.tmNode})}function S(s){t.handleDragEnd({event:s,node:e.tmNode})}function J(s){s.currentTarget===s.target&&t.handleDragLeave({event:s,node:e.tmNode})}function de(s){s.preventDefault(),d.value!==null&&t.handleDrop({event:s,node:e.tmNode,dropPosition:d.value})}return{showDropMark:ce(()=>{const{value:s}=a;if(!s)return;const{value:D}=d;if(!D)return;const{value:B}=i;if(!B)return;const{tmNode:ge}=e;return ge.key===B.key}),showDropMarkAsParent:ce(()=>{const{value:s}=o;if(!s)return!1;const{tmNode:D}=e,{value:B}=d;return B==="before"||B==="after"?s.key===D.key:!1}),pending:ce(()=>t.pendingNodeKeyRef.value===e.tmNode.key),loading:ce(()=>t.loadingKeysRef.value.has(e.tmNode.key)),highlight:ce(()=>{var s;return(s=t.highlightKeySetRef.value)===null||s===void 0?void 0:s.has(e.tmNode.key)}),checked:ce(()=>t.displayedCheckedKeysRef.value.includes(e.tmNode.key)),indeterminate:ce(()=>t.displayedIndeterminateKeysRef.value.includes(e.tmNode.key)),selected:ce(()=>t.mergedSelectedKeysRef.value.includes(e.tmNode.key)),expanded:ce(()=>t.mergedExpandedKeysRef.value.includes(e.tmNode.key)),disabled:k,checkable:R(()=>t.checkableRef.value&&(t.cascadeRef.value||t.mergedCheckStrategyRef.value!=="child"||e.tmNode.isLeaf)),checkboxDisabled:R(()=>!!e.tmNode.rawNode.checkboxDisabled),selectable:$,internalScrollable:t.internalScrollableRef,draggable:t.draggableRef,blockLine:b,nodeProps:c,checkboxFocusable:t.internalCheckboxFocusableRef,droppingPosition:d,droppingOffsetLevel:h,indent:m,checkboxPlacement:g,contentInstRef:r,contentElRef:x,handleCheck:F,handleDrop:de,handleDragStart:z,handleDragEnter:T,handleDragOver:L,handleDragEnd:S,handleDragLeave:J,handleLineClick:V,handleContentClick:y,handleSwitcherClick:C}},render(){const{tmNode:e,clsPrefix:t,checkable:o,selectable:i,selected:a,checked:d,highlight:h,draggable:v,blockLine:m,indent:b,disabled:g,pending:k,internalScrollable:c,nodeProps:r,checkboxPlacement:x}=this,C=v&&!g?{onDragenter:this.handleDragEnter,onDragleave:this.handleDragLeave,onDragend:this.handleDragEnd,onDrop:this.handleDrop,onDragover:this.handleDragOver}:void 0,$=c?Ot(e.key):void 0,w=x==="right",y=o?p(Nl,{right:w,focusable:this.checkboxFocusable,disabled:g||this.checkboxDisabled,clsPrefix:t,checked:this.checked,indeterminate:this.indeterminate,onCheck:this.handleCheck}):null;return p("div",Object.assign({class:`${t}-tree-node-wrapper`},C),p("div",Object.assign({},m?r:void 0,{class:[`${t}-tree-node`,{[`${t}-tree-node--selected`]:a,[`${t}-tree-node--checkable`]:o,[`${t}-tree-node--highlight`]:h,[`${t}-tree-node--pending`]:k,[`${t}-tree-node--disabled`]:g,[`${t}-tree-node--selectable`]:i},r==null?void 0:r.class],"data-key":$,draggable:v&&m,onClick:this.handleLineClick,onDragstart:v&&m&&!g?this.handleDragStart:void 0}),dl(e.level,p("div",{class:`${t}-tree-node-indent`},p("div",{style:{width:`${b}px`}}))),p(Kl,{clsPrefix:t,expanded:this.expanded,loading:this.loading,hide:e.isLeaf,onClick:this.handleSwitcherClick}),w?null:y,p($l,{ref:"contentInstRef",clsPrefix:t,checked:d,selected:a,onClick:this.handleContentClick,nodeProps:m?void 0:r,onDragstart:v&&!m&&!g?this.handleDragStart:void 0,tmNode:e}),v?this.showDropMark?$t({el:this.contentElRef.value,position:this.droppingPosition,offsetLevel:this.droppingOffsetLevel,indent:b}):this.showDropMarkAsParent?$t({el:this.contentElRef.value,position:"inside",offsetLevel:this.droppingOffsetLevel,indent:b}):null:null,w?y:null))}});var Mt=Ll;function Ht(e,t,o,i){e==null||e.forEach(a=>{o(a),Ht(a[t],t,o,i),i(a)})}function Pl(e,t,o,i,a){const d=new Set,h=new Set,v=[];return Ht(e,i,m=>{if(v.push(m),a(t,m)){h.add(m[o]);for(let b=v.length-2;b>=0;--b)if(!d.has(v[b][o]))d.add(v[b][o]);else return}},()=>{v.pop()}),{expandedKeys:Array.from(d),highlightKeySet:h}}if(typeof window!="undefined"&&Image){const e=new Image;e.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}function Tl(e,t,o,i,a){const d=new Set,h=new Set,v=new Set,m=[],b=[],g=[];function k(r){r.forEach(x=>{if(g.push(x),t(o,x)){d.add(x[i]),v.add(x[i]);for(let $=g.length-2;$>=0;--$){const w=g[$][i];if(!h.has(w))h.add(w),d.has(w)&&d.delete(w);else break}}const C=x[a];C&&k(C),g.pop()})}k(e);function c(r,x){r.forEach(C=>{const $=C[i],w=d.has($),y=h.has($);if(!w&&!y)return;const V=C[a];if(V)if(w)x.push(C);else{m.push($);const F=Object.assign(Object.assign({},C),{[a]:[]});x.push(F),c(V,F[a])}else x.push(C)})}return c(e,b),{filteredTree:b,highlightKeySet:v,expandedKeys:m}}function Bl({fNodesRef:e,mergedExpandedKeysRef:t,mergedSelectedKeysRef:o,handleSelect:i,handleSwitcherClick:a}){const{value:d}=o,h=$e(Ut,null),v=h?h.pendingNodeKeyRef:K(d.length?d[d.length-1]:null);function m(g){const{value:k}=v;if(k===null){if(["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(g.code)&&k===null){const{value:c}=e;let r=0;for(;r<c.length;){if(!c[r].disabled){v.value=c[r].key;break}r+=1}}}else{const{value:c}=e;let r=c.findIndex(x=>x.key===k);if(!~r)return;if(g.code==="Enter"||g.code==="NumpadEnter")i(c[r]);else if(g.code==="ArrowDown")for(r+=1;r<c.length;){if(!c[r].disabled){v.value=c[r].key;break}r+=1}else if(g.code==="ArrowUp")for(r-=1;r>=0;){if(!c[r].disabled){v.value=c[r].key;break}r-=1}else if(g.code==="ArrowLeft"){const x=c[r];if(x.isLeaf||!t.value.includes(k)){const C=x.getParent();C&&(v.value=C.key)}else a(x)}else if(g.code==="ArrowRight"){const x=c[r];if(x.isLeaf)return;if(!t.value.includes(k))a(x);else for(r+=1;r<c.length;){if(!c[r].disabled){v.value=c[r].key;break}r+=1}}}}function b(g){switch(g.code){case"ArrowUp":case"ArrowDown":g.preventDefault()}}return{pendingNodeKeyRef:v,handleKeyup:m,handleKeydown:b}}var El=le({name:"TreeMotionWrapper",props:{clsPrefix:{type:String,required:!0},height:Number,nodes:{type:Array,required:!0},mode:{type:String,required:!0},onAfterEnter:{type:Function,required:!0}},render(){const{clsPrefix:e}=this;return p(Sn,{onAfterEnter:this.onAfterEnter,appear:!0,reverse:this.mode==="collapse"},{default:()=>p("div",{class:[`${e}-tree-motion-wrapper`,`${e}-tree-motion-wrapper--${this.mode}`],style:{height:qe(this.height)}},this.nodes.map(t=>p(Mt,{clsPrefix:e,tmNode:t})))})}}),Fl=A("tree",`
 font-size: var(--n-font-size);
 outline: none;
`,[Z("ul, li",`
 margin: 0;
 padding: 0;
 list-style: none;
 `),Z(">",[A("tree-node",[Z("&:first-child",{marginTop:0})])]),A("tree-node-indent",`
 flex-grow: 0;
 flex-shrink: 0;
 height: 0;
 `),A("tree-motion-wrapper",[P("expand",[Nt({duration:"0.2s"})]),P("collapse",[Nt({duration:"0.2s",reverse:!0})])]),A("tree-node-wrapper",`
 box-sizing: border-box;
 padding: 3px 0;
 `),A("tree-node",`
 position: relative;
 display: flex;
 border-radius: var(--n-node-border-radius);
 transition: background-color .3s var(--n-bezier);
 `,[P("highlight",[A("tree-node-content",[N("text",{borderBottomColor:"var(--n-node-text-color-disabled)"})])]),P("disabled",[A("tree-node-content",`
 color: var(--n-node-text-color-disabled);
 cursor: not-allowed;
 `)]),Ne("disabled",[P("selectable",[A("tree-node-content",`
 cursor: pointer;
 `)])])]),P("block-node",[A("tree-node-content",`
 flex-grow: 1;
 flex-shrink: 0;
 `)]),Ne("block-line",[A("tree-node",[Ne("disabled",[A("tree-node-content",[Z("&:hover",{backgroundColor:"var(--n-node-color-hover)"})]),P("selectable",[A("tree-node-content",[Z("&:active",{backgroundColor:"var(--n-node-color-pressed)"})])]),P("pending",[A("tree-node-content",`
 background-color: var(--n-node-color-hover);
 `)]),P("selected",[A("tree-node-content",{backgroundColor:"var(--n-node-color-active)"})])])])]),P("block-line",[A("tree-node",[Ne("disabled",[Z("&:hover",{backgroundColor:"var(--n-node-color-hover)"}),P("selectable",[Z("&:active",{backgroundColor:"var(--n-node-color-pressed)"})]),P("pending",`
 background-color: var(--n-node-color-hover);
 `),P("selected",{backgroundColor:"var(--n-node-color-active)"})]),P("disabled",`
 cursor: not-allowed;
 `)])]),A("tree-node-switcher",`
 cursor: pointer;
 display: inline-flex;
 flex-shrink: 0;
 height: 24px;
 width: 24px;
 align-items: center;
 justify-content: center;
 transition: transform .15s var(--n-bezier);
 vertical-align: bottom;
 `,[N("icon",`
 position: relative;
 height: 14px;
 width: 14px;
 display: flex;
 color: var(--n-arrow-color);
 transition: color .3s var(--n-bezier);
 font-size: 14px;
 `,[A("icon",[ze()]),A("base-loading",`
 color: var(--n-loading-color);
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 `,[ze()]),A("base-icon",[ze()])]),P("hide",{visibility:"hidden"}),P("expanded",{transform:"rotate(90deg)"})]),A("tree-node-checkbox",`
 display: inline-flex;
 height: 24px;
 width: 16px;
 vertical-align: bottom;
 align-items: center;
 justify-content: center;
 margin-right: 4px;
 `,[P("right","margin-left: 4px;")]),P("checkable",[A("tree-node-content",`
 padding: 0 6px;
 `)]),A("tree-node-content",`
 position: relative;
 display: inline-flex;
 align-items: center;
 min-height: 24px;
 box-sizing: border-box;
 line-height: 1.5;
 vertical-align: bottom;
 padding: 0 6px 0 4px;
 cursor: default;
 border-radius: var(--n-node-border-radius);
 text-decoration-color: #0000;
 text-decoration-line: underline;
 color: var(--n-node-text-color);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[Z("&:last-child",{marginBottom:0}),N("prefix",`
 display: inline-flex;
 margin-right: 8px;
 `),N("text",`
 border-bottom: 1px solid #0000;
 transition: border-color .3s var(--n-bezier);
 flex-grow:1;
 `),N("suffix",`
 display: inline-flex;
 `)]),N("empty","margin: auto;")]),Al=globalThis&&globalThis.__awaiter||function(e,t,o,i){function a(d){return d instanceof o?d:new o(function(h){h(d)})}return new(o||(o=Promise))(function(d,h){function v(g){try{b(i.next(g))}catch(k){h(k)}}function m(g){try{b(i.throw(g))}catch(k){h(k)}}function b(g){g.done?d(g.value):a(g.value).then(v,m)}b((i=i.apply(e,t||[])).next())})};const We=30;function Il(e,t){return{getKey(o){return o[e]},getChildren(o){return o[t]},getDisabled(o){return!!(o.disabled||o.checkboxDisabled)}}}const Vl={allowCheckingNotLoaded:Boolean,filter:Function,defaultExpandAll:Boolean,expandedKeys:Array,keyField:{type:String,default:"key"},labelField:{type:String,default:"label"},childrenField:{type:String,default:"children"},defaultExpandedKeys:{type:Array,default:()=>[]},indeterminateKeys:Array,onUpdateIndeterminateKeys:[Function,Array],"onUpdate:indeterminateKeys":[Function,Array],onUpdateExpandedKeys:[Function,Array],"onUpdate:expandedKeys":[Function,Array]},zl=Object.assign(Object.assign(Object.assign(Object.assign({},Ye.props),{showIrrelevantNodes:{type:Boolean,default:!0},data:{type:Array,default:()=>[]},expandOnDragenter:{type:Boolean,default:!0},cancelable:{type:Boolean,default:!0},checkable:Boolean,draggable:Boolean,blockNode:Boolean,blockLine:Boolean,disabled:Boolean,checkedKeys:Array,defaultCheckedKeys:{type:Array,default:()=>[]},selectedKeys:Array,defaultSelectedKeys:{type:Array,default:()=>[]},multiple:Boolean,pattern:{type:String,default:""},onLoad:Function,cascade:Boolean,selectable:{type:Boolean,default:!0},indent:{type:Number,default:16},allowDrop:{type:Function,default:Dl},animated:{type:Boolean,default:!0},checkboxPlacement:{type:String,default:"left"},virtualScroll:Boolean,watchProps:Array,renderLabel:Function,renderPrefix:Function,renderSuffix:Function,renderSwitcherIcon:Function,nodeProps:Function,onDragenter:[Function,Array],onDragleave:[Function,Array],onDragend:[Function,Array],onDragstart:[Function,Array],onDragover:[Function,Array],onDrop:[Function,Array],onUpdateCheckedKeys:[Function,Array],"onUpdate:checkedKeys":[Function,Array],onUpdateSelectedKeys:[Function,Array],"onUpdate:selectedKeys":[Function,Array]}),Vl),{internalTreeSelect:Boolean,internalScrollable:Boolean,internalScrollablePadding:String,internalRenderEmpty:Function,internalHighlightKeySet:Object,internalUnifySelectCheck:Boolean,internalCheckboxFocusable:{type:Boolean,default:!0},internalFocusable:{type:Boolean,default:!0},checkStrategy:{type:String,default:"all"},leafOnly:Boolean});var Ol=le({name:"Tree",props:zl,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:o}=Et(e),i=Ye("Tree","-tree",Fl,Sl,e,t),a=K(null),d=K(null),h=K(null);function v(){var n;return(n=h.value)===null||n===void 0?void 0:n.listElRef}function m(){var n;return(n=h.value)===null||n===void 0?void 0:n.itemsElRef}const b=R(()=>{const{pattern:n}=e;return n?!n.length||!Ge.value?{filteredTree:e.data,highlightKeySet:null,expandedKeys:void 0}:Tl(e.data,Ge.value,n,e.keyField,e.childrenField):{filteredTree:e.data,highlightKeySet:null,expandedKeys:void 0}}),g=R(()=>sl(e.showIrrelevantNodes?e.data:b.value.filteredTree,Il(e.keyField,e.childrenField))),k=$e(Ut,null),c=e.internalTreeSelect?k.dataTreeMate:g,{watchProps:r}=e,x=K([]);r!=null&&r.includes("defaultCheckedKeys")?Ae(()=>{x.value=e.defaultCheckedKeys}):x.value=e.defaultCheckedKeys;const C=I(e,"checkedKeys"),$=Ie(C,x),w=R(()=>c.value.getCheckedKeys($.value,{cascade:e.cascade,allowNotLoaded:e.allowCheckingNotLoaded})),y=R(()=>e.leafOnly?"child":e.checkStrategy),V=R(()=>w.value.checkedKeys),F=R(()=>{const{indeterminateKeys:n}=e;return n!==void 0?n:w.value.indeterminateKeys}),z=K([]);r!=null&&r.includes("defaultSelectedKeys")?Ae(()=>{z.value=e.defaultSelectedKeys}):z.value=e.defaultSelectedKeys;const T=I(e,"selectedKeys"),L=Ie(T,z),S=K([]),J=n=>{S.value=e.defaultExpandAll?c.value.getNonLeafKeys():n===void 0?e.defaultExpandedKeys:n};r!=null&&r.includes("defaultExpandedKeys")?Ae(()=>J(void 0)):Ae(()=>J(e.defaultExpandedKeys));const de=I(e,"expandedKeys"),s=Ie(de,S),D=R(()=>g.value.getFlattenedNodes(s.value)),{pendingNodeKeyRef:B,handleKeyup:ge,handleKeydown:Le}=Bl({mergedSelectedKeysRef:L,fNodesRef:D,mergedExpandedKeysRef:s,handleSelect:et,handleSwitcherClick:ft});let ee=null,U=null;const ne=K(new Set),Ue=R(()=>e.internalHighlightKeySet||b.value.highlightKeySet),Qe=Ie(Ue,ne),se=K(new Set),Pe=R(()=>s.value.filter(n=>!se.value.has(n)));let Me=0;const be=K(null),ke=K(null),we=K(null),_e=K(null),Se=K(0),qt=R(()=>{const{value:n}=ke;return n?n.parent:null}),Ge=R(()=>{const{filter:n}=e;if(n)return n;const{labelField:l}=e;return(u,f)=>u.length?f[l].toLowerCase().includes(u.toLowerCase()):!0});ie(I(e,"data"),()=>{se.value.clear(),B.value=null,Be()},{deep:!1});let Te;ie(I(e,"pattern"),(n,l)=>{if(e.showIrrelevantNodes)if(Te=void 0,n){const{expandedKeys:u,highlightKeySet:f}=Pl(e.data,e.pattern,e.keyField,e.childrenField,Ge.value);ne.value=f,Ce(u,oe(u))}else ne.value=new Set;else if(!n.length)Te!==void 0&&Ce(Te,oe(Te));else{l.length||(Te=s.value);const{expandedKeys:u}=b.value;u!==void 0&&Ce(u,oe(u))}});function st(n){return Al(this,void 0,void 0,function*(){const{onLoad:l}=e;if(!l)return yield Promise.resolve();const{value:u}=se;return yield new Promise(f=>{u.has(n.key)||(u.add(n.key),l(n.rawNode).then(()=>{u.delete(n.key),f()}).catch(_=>{console.error(_),Ee()}))})})}Ae(()=>{var n;const{value:l}=g;if(!l)return;const{getNode:u}=l;(n=s.value)===null||n===void 0||n.forEach(f=>{const _=u(f);_&&!_.shallowLoaded&&st(_)})});const Re=K(!1),fe=K([]);ie(Pe,(n,l)=>{if(!e.animated){_t(He);return}const u=new Set(l);let f=null,_=null;for(const W of n)if(!u.has(W)){if(f!==null)return;f=W}const ae=new Set(n);for(const W of l)if(!ae.has(W)){if(_!==null)return;_=W}if(f!==null&&_!==null||f===null&&_===null)return;const{virtualScroll:X}=e,Fe=(X?h.value.listElRef:a.value).offsetHeight,ye=Math.ceil(Fe/We)+1;if(f!==null){Re.value=!0,fe.value=g.value.getFlattenedNodes(l);const W=fe.value.findIndex(Y=>Y.key===f);if(~W){const Y=Ct(fe.value[W].children,n);fe.value.splice(W+1,0,{__motion:!0,mode:"expand",height:X?Y.length*We:void 0,nodes:X?Y.slice(0,ye):Y})}}if(_!==null){fe.value=g.value.getFlattenedNodes(n);const W=fe.value.findIndex(Y=>Y.key===_);if(~W){const Y=fe.value[W].children;if(!Y)return;Re.value=!0;const re=Ct(Y,n);fe.value.splice(W+1,0,{__motion:!0,mode:"collapse",height:X?re.length*We:void 0,nodes:X?re.slice(0,ye):re})}}});const Xt=R(()=>cl(D.value)),Yt=R(()=>Re.value?fe.value:D.value);function He(){const{value:n}=d;n&&n.sync()}function Zt(){Re.value=!1,e.virtualScroll&&_t(He)}function oe(n){const{getNode:l}=c.value;return n.map(u=>{var f;return((f=l(u))===null||f===void 0?void 0:f.rawNode)||null})}function Ce(n,l){const{"onUpdate:expandedKeys":u,onUpdateExpandedKeys:f}=e;S.value=n,u&&q(u,n,l),f&&q(f,n,l)}function ct(n,l){const{"onUpdate:checkedKeys":u,onUpdateCheckedKeys:f}=e;x.value=n,f&&q(f,n,l),u&&q(u,n,l)}function Qt(n,l){const{"onUpdate:indeterminateKeys":u,onUpdateIndeterminateKeys:f}=e;u&&q(u,n,l),f&&q(f,n,l)}function Je(n,l){const{"onUpdate:selectedKeys":u,onUpdateSelectedKeys:f}=e;z.value=n,f&&q(f,n,l),u&&q(u,n,l)}function Gt(n){const{onDragenter:l}=e;l&&q(l,n)}function Jt(n){const{onDragleave:l}=e;l&&q(l,n)}function en(n){const{onDragend:l}=e;l&&q(l,n)}function tn(n){const{onDragstart:l}=e;l&&q(l,n)}function nn(n){const{onDragover:l}=e;l&&q(l,n)}function ln(n){const{onDrop:l}=e;l&&q(l,n)}function Be(){on(),me()}function on(){be.value=null}function me(){Se.value=0,ke.value=null,we.value=null,_e.value=null,Ee()}function Ee(){ee&&(window.clearTimeout(ee),ee=null),U=null}function ut(n,l){if(e.disabled||n.disabled)return;if(e.internalUnifySelectCheck&&!e.multiple){et(n);return}const{checkedKeys:u,indeterminateKeys:f}=c.value[l?"check":"uncheck"](n.key,V.value,{cascade:e.cascade,checkStrategy:y.value,allowNotLoaded:e.allowCheckingNotLoaded});ct(u,oe(u)),Qt(f,oe(f))}function an(n){if(e.disabled)return;const{value:l}=s,u=l.findIndex(f=>f===n);if(~u){const f=Array.from(l);f.splice(u,1),Ce(f,oe(f))}else{const f=g.value.getNode(n);if(!f||f.isLeaf)return;const _=l.concat(n);Ce(_,oe(_))}}function ft(n){e.disabled||Re.value||an(n.key)}function et(n){if(!(e.disabled||!e.selectable)){if(B.value=n.key,e.internalUnifySelectCheck){const{value:{checkedKeys:l,indeterminateKeys:u}}=w;e.multiple?ut(n,!(l.includes(n.key)||u.includes(n.key))):ct([n.key],oe([n.key]))}if(e.multiple){const l=Array.from(L.value),u=l.findIndex(f=>f===n.key);~u?e.cancelable&&l.splice(u,1):~u||l.push(n.key),Je(l,oe(l))}else L.value.includes(n.key)?e.cancelable&&Je([],[]):Je([n.key],oe([n.key]))}}function rn(n){if(ee&&(window.clearTimeout(ee),ee=null),n.isLeaf)return;U=n.key;const l=()=>{if(U!==n.key)return;const{value:u}=we;if(u&&u.key===n.key&&!s.value.includes(n.key)){const f=s.value.concat(n.key);Ce(f,oe(f))}ee=null,U=null};n.shallowLoaded?ee=window.setTimeout(()=>{l()},1e3):ee=window.setTimeout(()=>{st(n).then(()=>{l()})},1e3)}function dn({event:n,node:l}){!e.draggable||e.disabled||l.disabled||(ht({event:n,node:l},!1),Gt({event:n,node:l.rawNode}))}function sn({event:n,node:l}){!e.draggable||e.disabled||l.disabled||Jt({event:n,node:l.rawNode})}function cn(n){n.target===n.currentTarget&&me()}function un({event:n,node:l}){Be(),!(!e.draggable||e.disabled||l.disabled)&&en({event:n,node:l.rawNode})}function fn({event:n,node:l}){!e.draggable||e.disabled||l.disabled||(Me=n.clientX,be.value=l,tn({event:n,node:l.rawNode}))}function ht({event:n,node:l},u=!0){var f;if(!e.draggable||e.disabled||l.disabled)return;const{value:_}=be;if(!_)return;const{allowDrop:ae,indent:X}=e;u&&nn({event:n,node:l.rawNode});const Fe=n.currentTarget,{height:ye,top:W}=Fe.getBoundingClientRect(),Y=n.clientY-W;let re;ae({node:l.rawNode,dropPosition:"inside",phase:"drag"})?Y<=8?re="before":Y>=ye-8?re="after":re="inside":Y<=ye/2?re="before":re="after";const{value:mn}=Xt;let E,G;const tt=mn(l.key);if(tt===null){me();return}let bt=!1;re==="inside"?(E=l,G="inside"):re==="before"?l.isFirstChild?(E=l,G="before"):(E=D.value[tt-1],G="after"):(E=l,G="after"),!E.isLeaf&&s.value.includes(E.key)&&(bt=!0,G==="after"&&(E=D.value[tt+1],E?G="before":(E=l,G="inside")));const mt=E;if(we.value=mt,!bt&&_.isLastChild&&_.key===E.key&&(G="after"),G==="after"){let yt=Me-n.clientX,nt=0;for(;yt>=X/2&&E.parent!==null&&E.isLastChild&&nt<1;)yt-=X,nt+=1,E=E.parent;Se.value=nt}else Se.value=0;if((_.contains(E)||G==="inside"&&((f=_.parent)===null||f===void 0?void 0:f.key)===E.key)&&!(_.key===mt.key&&_.key===E.key)){me();return}if(!ae({node:E.rawNode,dropPosition:G,phase:"drag"})){me();return}if(_.key===E.key)Ee();else if(U!==E.key)if(G==="inside"){if(e.expandOnDragenter){if(rn(E),!E.shallowLoaded&&U!==E.key){Be();return}}else if(!E.shallowLoaded){Be();return}}else Ee();else G!=="inside"&&Ee();_e.value=G,ke.value=E}function hn({event:n,node:l,dropPosition:u}){if(!e.draggable||e.disabled||l.disabled)return;const{value:f}=be,{value:_}=ke,{value:ae}=_e;if(!(!f||!_||!ae)&&!!e.allowDrop({node:_.rawNode,dropPosition:ae,phase:"drag"})&&f.key!==_.key){if(ae==="before"){const X=f.getNext({includeDisabled:!0});if(X&&X.key===_.key){me();return}}if(ae==="after"){const X=f.getPrev({includeDisabled:!0});if(X&&X.key===_.key){me();return}}ln({event:n,node:_.rawNode,dragNode:f.rawNode,dropPosition:u}),Be()}}function vn(){He()}function gn(){He()}function bn(n){var l;if(e.virtualScroll||e.internalScrollable){const{value:u}=d;if(!((l=u==null?void 0:u.containerRef)===null||l===void 0)&&l.contains(n.relatedTarget))return;B.value=null}else{const{value:u}=a;if(u!=null&&u.contains(n.relatedTarget))return;B.value=null}}ie(B,n=>{var l,u;if(n!==null){if(e.virtualScroll)(l=h.value)===null||l===void 0||l.scrollTo({key:n});else if(e.internalScrollable){const{value:f}=d;if(f===null)return;const _=(u=f.contentRef)===null||u===void 0?void 0:u.querySelector(`[data-key="${Ot(n)}"]`);if(!_)return;f.scrollTo({el:_})}}}),On(je,{loadingKeysRef:se,highlightKeySetRef:Qe,displayedCheckedKeysRef:V,displayedIndeterminateKeysRef:F,mergedSelectedKeysRef:L,mergedExpandedKeysRef:s,mergedThemeRef:i,mergedCheckStrategyRef:y,nodePropsRef:I(e,"nodeProps"),disabledRef:I(e,"disabled"),checkableRef:I(e,"checkable"),selectableRef:I(e,"selectable"),onLoadRef:I(e,"onLoad"),draggableRef:I(e,"draggable"),blockLineRef:I(e,"blockLine"),indentRef:I(e,"indent"),cascadeRef:I(e,"cascade"),checkboxPlacementRef:e.checkboxPlacement,droppingMouseNodeRef:we,droppingNodeParentRef:qt,draggingNodeRef:be,droppingPositionRef:_e,droppingOffsetLevelRef:Se,fNodesRef:D,pendingNodeKeyRef:B,internalScrollableRef:I(e,"internalScrollable"),internalCheckboxFocusableRef:I(e,"internalCheckboxFocusable"),internalTreeSelect:e.internalTreeSelect,renderLabelRef:I(e,"renderLabel"),renderPrefixRef:I(e,"renderPrefix"),renderSuffixRef:I(e,"renderSuffix"),renderSwitcherIconRef:I(e,"renderSwitcherIcon"),labelFieldRef:I(e,"labelField"),multipleRef:I(e,"multiple"),handleSwitcherClick:ft,handleDragEnd:un,handleDragEnter:dn,handleDragLeave:sn,handleDragStart:fn,handleDrop:hn,handleDragOver:ht,handleSelect:et,handleCheck:ut});const vt={handleKeydown:Le,handleKeyup:ge},gt=R(()=>{const{common:{cubicBezierEaseInOut:n},self:{fontSize:l,nodeBorderRadius:u,nodeColorHover:f,nodeColorPressed:_,nodeColorActive:ae,arrowColor:X,loadingColor:Fe,nodeTextColor:ye,nodeTextColorDisabled:W,dropMarkColor:Y}}=i.value;return{"--n-arrow-color":X,"--n-loading-color":Fe,"--n-bezier":n,"--n-font-size":l,"--n-node-border-radius":u,"--n-node-color-active":ae,"--n-node-color-hover":f,"--n-node-color-pressed":_,"--n-node-text-color":ye,"--n-node-text-color-disabled":W,"--n-drop-mark-color":Y}}),Ke=o?Ft("tree",void 0,gt,e):void 0;return{mergedClsPrefix:t,mergedTheme:i,fNodes:Yt,aip:Re,selfElRef:a,virtualListInstRef:h,scrollbarInstRef:d,handleFocusout:bn,handleDragLeaveTree:cn,handleScroll:vn,getScrollContainer:v,getScrollContent:m,handleAfterEnter:Zt,handleResize:gn,handleKeydown:vt.handleKeydown,handleKeyup:vt.handleKeyup,cssVars:o?void 0:gt,themeClass:Ke==null?void 0:Ke.themeClass,onRender:Ke==null?void 0:Ke.onRender}},render(){var e;const{fNodes:t,internalRenderEmpty:o}=this;if(!t.length&&o)return o();const{mergedClsPrefix:i,blockNode:a,blockLine:d,draggable:h,disabled:v,internalFocusable:m,checkable:b,handleKeyup:g,handleKeydown:k,handleFocusout:c}=this,r=m&&!v,x=r?"0":void 0,C=[`${i}-tree`,b&&`${i}-tree--checkable`,(d||a)&&`${i}-tree--block-node`,d&&`${i}-tree--block-line`],$=y=>"__motion"in y?p(El,{height:y.height,nodes:y.nodes,clsPrefix:i,mode:y.mode,onAfterEnter:this.handleAfterEnter}):p(Mt,{key:y.key,tmNode:y,clsPrefix:i});if(this.virtualScroll){const{mergedTheme:y,internalScrollablePadding:V}=this,F=jn(V||"0");return p(Kt,{ref:"scrollbarInstRef",onDragleave:h?this.handleDragLeaveTree:void 0,container:this.getScrollContainer,content:this.getScrollContent,class:C,theme:y.peers.Scrollbar,themeOverrides:y.peerOverrides.Scrollbar,tabindex:x,onKeyup:r?g:void 0,onKeydown:r?k:void 0,onFocusout:r?c:void 0},{default:()=>{var z;return(z=this.onRender)===null||z===void 0||z.call(this),p(ul,{ref:"virtualListInstRef",items:this.fNodes,itemSize:We,ignoreItemResize:this.aip,paddingTop:F.top,paddingBottom:F.bottom,class:this.themeClass,style:[this.cssVars,{paddingLeft:F.left,paddingRight:F.right}],onScroll:this.handleScroll,onResize:this.handleResize,showScrollbar:!1,itemResizable:!0},{default:({item:T})=>$(T)})}})}const{internalScrollable:w}=this;return C.push(this.themeClass),(e=this.onRender)===null||e===void 0||e.call(this),w?p(Kt,{class:C,tabindex:x,onKeyup:r?g:void 0,onKeydown:r?k:void 0,onFocusout:r?c:void 0,style:this.cssVars,contentStyle:{padding:this.internalScrollablePadding}},{default:()=>p("div",{onDragleave:h?this.handleDragLeaveTree:void 0,ref:"selfElRef"},this.fNodes.map($))}):p("div",{class:C,tabindex:x,ref:"selfElRef",style:this.cssVars,onKeyup:r?g:void 0,onKeydown:r?k:void 0,onFocusout:r?c:void 0,onDragleave:h?this.handleDragLeaveTree:void 0},t.length?t.map($):Un(this.$slots.empty,()=>{var y,V,F,z;return[p(fl,{class:`${i}-tree__empty`,theme:(V=(y=this.theme)===null||y===void 0?void 0:y.peers)===null||V===void 0?void 0:V.Empty,themeOverrides:(z=(F=this.themeOverrides)===null||F===void 0?void 0:F.peers)===null||z===void 0?void 0:z.Empty})]}))}});const jl={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ul=Q("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[Q("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),Q("path",{d:"M14 2v6h6m-4 5H8m8 4H8m2-8H8"})],-1),Ml=[Ul];function Hl(e,t){return j(),te("svg",jl,Ml)}var Wl={name:"feather-file-text",render:Hl};const ql={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Xl=Q("path",{fill:"#f1662a",d:"m20.42 21.157l2.211 2.211L30 16l-7.369-7.369l-2.211 2.212L25.58 16Zm-8.84-10.314L9.369 8.631L2 16l7.369 7.369l2.211-2.211L6.42 16Zm5.831-3.166l1.6.437l-4.42 16.209l-1.6-.437Z"},null,-1),Yl=Q("path",{fill:"#fcba00",d:"M20.332 18.462a3.354 3.354 0 0 1 .975-1.423a4.014 4.014 0 0 1 1.617-.8A9.118 9.118 0 0 1 25.138 16a5.472 5.472 0 0 1 3.681 1.039A3.5 3.5 0 0 1 30 19.808a4.47 4.47 0 0 1-.24 1.491a3.124 3.124 0 0 1-.838 1.239l-1.675 1.6a1.512 1.512 0 0 0-.424.789a5.307 5.307 0 0 0-.1 1.1H23v-.54a6.32 6.32 0 0 1 .207-1.778a2.886 2.886 0 0 1 .78-1.24l1.352-1.289a1.84 1.84 0 0 0 .563-.894a3.682 3.682 0 0 0 .1-.8a1.5 1.5 0 0 0-.252-.9a.9.9 0 0 0-.779-.346a1.255 1.255 0 0 0-.483.086a.724.724 0 0 0-.344.337a2.347 2.347 0 0 0-.217.721a7.614 7.614 0 0 0-.081 1.24H20a6.155 6.155 0 0 1 .332-2.162Zm6.457 8.5V30h-3.853v-3.038Z"},null,-1),Zl=[Xl,Yl];function Ql(e,t){return j(),te("svg",ql,Zl)}var Gl={name:"vscode-icons-file-type-xquery",render:Ql};function Jl(e){const t=K(null);return ie(e,async()=>{var o;if(e.value===null){t.value="";return}t.value=(o=await Kn(e.value))!=null?o:null},{immediate:!0}),t}const eo=Gl;function to(e){const{key:t}=e;return Nn(e)?$n(t):Ve(e)?dt(t):eo}const at=dt,no=["innerHTML"],lo=le({props:{markdownSource:null},setup(e){const t=e,o=R(()=>Dn(t.markdownSource));return(i,a)=>(j(),te("div",{class:"prose",innerHTML:o.value},null,8,no))}});var oo=Ze(lo,[["__scopeId","data-v-bfa235b8"]]);const ao={class:"project-file-viewer flex items-center justify-center min-w-0"},ro={class:"flex h-full"},io=De("Show invisibles"),so=De("Hide invisibles"),co={key:0,class:"w-full h-full"},uo={key:1,class:"flex flex-col h-full w-full items-center justify-center relative overflow-hidden"},fo={class:"controls absolute top-4 w-1/2 z-[1]"},ho=["src"],vo={class:"h-full"},go={class:"absolute w-full h-full top-0 left-0 flex items-center justify-center"},bo={key:2,class:"flex-1 ml-4"},mo={key:1,class:"flex flex-col items-center opacity-50"},yo=De("No file selected"),po=le({props:{modelValue:null,subtree:null},emits:["update:modelValue"],setup(e,{emit:t}){const o=e,i=Mn(()=>Hn(()=>Promise.resolve().then(function(){return Ko}),void 0)),{Prism:a,loadLanguage:d}=Tn(),h=It(o,"modelValue",t),v=Jl(h),m=R(()=>{var T;return(T=o.subtree.find(L=>L.key===h.value))!=null?T:null});let b=K(!1);const g=h,k=R(()=>{var T;return(T=g.value)==null?void 0:T.split("/").at(-1)}),c=R(()=>{var T;return(T=k.value)==null?void 0:T.split(".").at(-1)}),r=R(()=>{var T;return(T=g.value)==null?void 0:T.split("/").slice(1,-1)});let x=K(null);ie(h,async T=>{x.value=null,T!==null&&(x.value=await Ln(T))},{immediate:!0});const C=R(()=>typeof c.value!="undefined"&&["ico","png","jpg"].includes(c.value)),$=K(0),w=Vt($,100),y=R(()=>1.2**w.value),V=R(()=>typeof c.value=="undefined"?"none":Pn(c.value));let F=K(!1);const z=K();return ie(v,async()=>{v.value===null||C.value||(F.value=!0,typeof c.value!="undefined"&&await d(c.value),setTimeout(()=>a.highlightElement(z.value,!1,()=>{F.value=!1}),50))}),(T,L)=>{const S=zt,J=Rn,de=Cn,s=jt,D=hl,B=it,ge=el,Le=Wl,ee=Bn;return j(),te("div",ao,[g.value!==null?(j(),ve(ge,{key:0,class:"relative h-full w-full min-w-0",title:k.value},{cover:M(()=>[O(de,{class:"path"},{default:M(()=>[O(J,null,{default:M(()=>[O(S,{class:"mr-[.5rem]",component:H(at)("/")},null,8,["component"])]),_:1}),(j(!0),te(Wn,null,qn(r.value,(U,ne)=>(j(),ve(J,{onClick:Ue=>h.value="/"+r.value.slice(0,ne+1).join("/")},{default:M(()=>[O(S,{class:"mr-[.5rem]"},{default:M(()=>[(j(),ve(Xn(H(at)("/"+r.value.slice(0,ne+1).join("/")))))]),_:2},1024),De(St(U),1)]),_:2},1032,["onClick"]))),256)),O(J)]),_:1}),O(S,{class:"absolute top-[3.2rem] left-[1rem]",size:"24px",component:m.value===null?H(at)(e.modelValue):H(to)(m.value)},null,8,["component"])]),default:M(()=>[Q("div",ro,[H(v)!==null?(j(),te("div",{key:0,class:Yn(["code relative flex-1 h-full line-numbers match-braces rainbow-braces pb-[.25rem] mt-[-.5rem]",[`language-${V.value}`,{"show-invisible":b.value}]])},[C.value?Oe("",!0):(j(),ve(s,{key:0,class:"absolute right-0 top-[-2rem]",value:b.value,"onUpdate:value":L[0]||(L[0]=U=>b.value=U)},{checked:M(()=>[io]),unchecked:M(()=>[so]),_:1},8,["value"])),O(H(Xe),{class:"h-full"},{default:M(()=>[C.value?(j(),te("div",uo,[Q("div",fo,[O(D,{value:$.value,"onUpdate:value":L[1]||(L[1]=U=>$.value=U),min:-10,max:10,step:.01,"format-tooltip":U=>`x${(1.2**U).toFixed(2)}`},null,8,["value","step","format-tooltip"])]),Q("img",{class:"img-preview border-solid border-black origin-center",src:g.value,style:Gn({"--scale":y.value})},null,12,ho)])):Zn((j(),te("pre",co,[Q("code",{ref_key:"code",ref:z},St(H(v)),513)],512)),[[Qn,!F.value]])]),_:1})],2)):(j(),ve(H(Xe),{key:1,class:"h-full flex-1"},{default:M(()=>[C.value?Oe("",!0):(j(),ve(Jn,{key:0},{fallback:M(()=>[Q("div",go,[O(B)])]),default:M(()=>[Q("div",vo,[O(H(i),{class:"h-full m-l-[-1rem]",modelValue:H(h),"onUpdate:modelValue":L[2]||(L[2]=U=>rt(h)?h.value=U:null),entries:e.subtree},null,8,["modelValue","entries"])])]),_:1}))]),_:1})),x.value!==null?(j(),te("div",bo,[O(oo,{"markdown-source":x.value},null,8,["markdown-source"])])):Oe("",!0)])]),_:1},8,["title"])):(j(),te("div",mo,[O(S,{size:"4rem"},{default:M(()=>[O(Le)]),_:1}),O(ee,null,{default:M(()=>[yo]),_:1})]))])}}});var xo=Ze(po,[["__scopeId","data-v-fed68a4e"]]);const ko={class:"pb-4 h-full flex flex-col"},wo={class:"controls pl-7 pr-2 pt-1 mb-2 relative flex-none z-[1]"},_o=De("Show dots"),So=De("Hide dots"),Ro={class:"flex-1 overflow-y-scroll min-h-0"},Co=le({props:{entries:null,modelValue:null,root:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const o=e,i=K(["/"]);let a=K([]);ie(()=>a.value,()=>{a.value.length===0||a.value[0]===o.modelValue||(d.value=a.value[0])});const d=It(o,"modelValue",t);ie(d,()=>{if(d.value===null){a.value=[];return}a.value=[d.value]},{immediate:!0});const h=R(()=>r.value.length>0?K(["/",...m.value.map(w=>w.key)]):i);function v(w){return w.map(y=>Ve(y)?wt(kt({},y),{children:v(y.children)}):y).filter(y=>(Ve(y)&&y.children.length>0||y.key.includes(r.value))&&($.value||!y.label.startsWith(".")))}const m=R(()=>v(o.entries)),b=R(()=>o.root&&m.value.length>0?[{key:"/",label:"/",children:m.value,prefix:()=>p(zt,{size:"1.25rem"},{default:()=>p(dt("/"))})}]:m.value);ie(()=>o.entries,w=>{o.root||(i.value=w.map(({key:y})=>y))},{immediate:!0});function g({option:w}){const{key:y,label:V}=w,F=V.startsWith(".");return{class:{empty:!Ve(w)||w.children.length===0,dot:F,"is-package-root":Ve(w)&&y.startsWith("/packages/")&&y.split("/").length===3}}}let k=K(!1);const c=K(""),r=Vt(c,500);ie(r,()=>setTimeout(()=>{k.value=!1},50));function x(w){c.value=w,k.value=!0}let C=Pt("dot","false"),$=R({get(){return C.value==="true"},set(w){C.value=w?"true":"false"}});return(w,y)=>{const V=vl,F=it,z=jt,T=Ol;return j(),te("div",ko,[Q("div",wo,[O(V,{placeholder:"Search...",clearable:"","onUpdate:value":x}),O(H(Xe),{class:"absolute top-3 left-0"},{default:M(()=>[k.value?(j(),ve(F,{key:0,size:20})):Oe("",!0)]),_:1}),O(z,{class:"absolute right-6 bottom-[-2rem]",value:$.value,"onUpdate:value":y[0]||(y[0]=L=>$.value=L)},{checked:M(()=>[_o]),unchecked:M(()=>[So]),_:1},8,["value"])]),Q("div",Ro,[O(T,tl({class:["project-tree",{root:e.root,"dot-shown":$.value,empty:e.entries.length===0}],data:b.value,"node-props":g,"show-irrelevant-nodes":!0,"expanded-keys":h.value.value,"onUpdate:expanded-keys":y[1]||(y[1]=L=>h.value.value=L),pattern:H(r),"selected-keys":a.value,"onUpdate:selected-keys":y[2]||(y[2]=L=>a.value=L)},w.$attrs),null,16,["class","data","expanded-keys","pattern","selected-keys"])])])}}});var Wt=Ze(Co,[["__scopeId","data-v-7069c454"]]),Ko=Object.freeze(Object.defineProperty({__proto__:null,default:Wt},Symbol.toStringTag,{value:"Module"}));const No={class:"explorer flex h-full w-full"},$o={class:"flex-none border-solid mr-4 border-r-[1px] ml-[-1rem] min-w-[20rem]"},Do={class:"flex-1 min-w-0 relative"},Lo={key:0,class:"spinner absolute w-full h-full top-0 flex justify-center items-center"},Po=le({async setup(e){let t,o;const i=([t,o]=nl(()=>Fn()),t=await t,o(),t),a=Pt("path",null);ll(()=>{a.value=null});const d=R(()=>a.value===null?i:En(a.value,i));return(h,v)=>{const m=it;return j(),te("div",No,[Q("div",$o,[O(Wt,{entries:H(i),modelValue:H(a),"onUpdate:modelValue":v[0]||(v[0]=b=>rt(a)?a.value=b:null),root:""},null,8,["entries","modelValue"])]),Q("div",Do,[H(a)!==null?(j(),te("div",Lo,[O(m,{size:"large"})])):Oe("",!0),O(H(Xe),{class:"h-full",duration:"250ms",transition:{mode:"out-in"}},{default:M(()=>[(j(),ve(xo,{class:"w-full h-full",modelValue:H(a),"onUpdate:modelValue":v[1]||(v[1]=b=>rt(a)?a.value=b:null),key:H(a),subtree:d.value},null,8,["modelValue","subtree"]))]),_:1})])])}}});var Vo=Ze(Po,[["__scopeId","data-v-6ee4c4a2"]]);export{Vo as default};
